<!DOCTYPE html>
<html amp lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<meta name="description" content="Ho'oponopono: Thương lắm, tôi xin lỗi, hãy tha thứ cho tôi, cảm ơn." />
	<meta property="og:image" content="/hooponopono-fbcover.png" />

	<meta name="amp-script-src" content="sha384-IxabmmDrZDtJMuJnumjiHY9aFaNJ-6IdU3VBYYCM7CQuSeydtOficW-XWp0ct1CB">

    <link rel="shortcut icon" type="image/png" href="./favicon.png">
	<link rel="canonical" href="https://hooponopono.practicehabits.net/">
	<title>Ho'oponopono</title>

	<script async src="https://cdn.ampproject.org/v0.js"></script>
	<script async custom-element="amp-script" src="https://cdn.ampproject.org/v0/amp-script-0.1.js"></script>

	<style amp-custom>
		body {
			background-color: #000080;
			margin: 0;
			font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
				'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
				sans-serif;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
		}

		.app {
			text-align: center;
		}

		.app-header {
			min-height: 100vh;
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			font-size: calc(1rem + 4vmin);
			color: white;
			padding: 0 4rem;
		}

		.author {
			font-style: italic;
			font-size: 1rem;
		}

		.row {
			text-align: center;
		}

		button {
			border-radius: 5px;
			padding: 12px 20px;
		}
	</style>
	<style amp-boilerplate>
		body {
			-webkit-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
			-moz-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
			-ms-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
			animation: -amp-start 8s steps(1, end) 0s 1 normal both
		}

		@-webkit-keyframes -amp-start {
			from {
				visibility: hidden
			}

			to {
				visibility: visible
			}
		}

		@-moz-keyframes -amp-start {
			from {
				visibility: hidden
			}

			to {
				visibility: visible
			}
		}

		@-ms-keyframes -amp-start {
			from {
				visibility: hidden
			}

			to {
				visibility: visible
			}
		}

		@-o-keyframes -amp-start {
			from {
				visibility: hidden
			}

			to {
				visibility: visible
			}
		}

		@keyframes -amp-start {
			from {
				visibility: hidden
			}

			to {
				visibility: visible
			}
		}
	</style><noscript>
		<style amp-boilerplate>
			body {
				-webkit-animation: none;
				-moz-animation: none;
				-ms-animation: none;
				animation: none
			}
		</style>
	</noscript>
</head>

<body>

	<amp-script layout="container" script="getrandomquote">
		<div class="app">
			<header id="content" class="app-header">
				<p class="quote">"Thương lắm, tôi xin lỗi, hãy tha thứ cho tôi, cảm ơn."</p>
				<p class="author">&mdash; Ho'oponopono</p>
			</header>
		</div>
		<div class="row">
			<button id="btn">INSPIRE me with a random Quote!</button>
		</div>
	</amp-script>

	<script id="getrandomquote" type="text/plain" target="amp-script">
			const getQuote = async () => {
			  let quoteUrl = 'https://raw.githubusercontent.com/Practice-Habits/hooponopono/main/data/quotes.json';
			  const response = await fetch(quoteUrl)
				.then(res => (res.json()))
				.catch(error => console.error('Error:', error));
			  let numOfQuotes = (await response).quotes.length;
			  let randomNumber = Math.floor(Math.random() * numOfQuotes);
			  return (await response).quotes[randomNumber];
			}

			const btn = document.getElementById("btn");
			btn.addEventListener('click', async () => {
				let quote = await getQuote();
				let quoteText = document.createElement('p');
				quoteText.textContent = '"' + quote.quote + '"';
				quoteText.setAttribute("class", "quote");
				let authorText = document.createElement('p');
				authorText.textContent = "— " + quote.author;
				authorText.setAttribute("class", "author");

				let list = document.getElementById("content");
				while (list.hasChildNodes()) {
				  list.removeChild(list.firstChild);
				}

				document.getElementById("content").appendChild(quoteText);
				document.getElementById("content").appendChild(authorText);
			});
		  </script>
	</bofy>

</html>